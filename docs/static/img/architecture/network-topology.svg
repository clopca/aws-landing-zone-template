<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 500">
  <defs>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.3"/>
    </filter>
  </defs>
  
  <!-- Background -->
  <rect width="800" height="500" fill="#f8f9fa"/>
  
  <!-- Title -->
  <text x="400" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#232f3e">Network Architecture - Transit Gateway Hub and Spoke</text>
  
  <!-- Network Hub Account Box -->
  <rect x="250" y="60" width="300" height="180" rx="10" fill="#e8f4f8" stroke="#0073bb" stroke-width="2"/>
  <text x="400" y="85" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#0073bb">Network Hub Account</text>
  
  <!-- Transit Gateway -->
  <rect x="320" y="100" width="160" height="60" rx="5" fill="#0073bb" filter="url(#shadow)"/>
  <text x="400" y="130" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">Transit Gateway</text>
  <text x="400" y="148" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Central Hub</text>
  
  <!-- Route Tables -->
  <rect x="270" y="175" width="80" height="50" rx="3" fill="#5c6bc0" filter="url(#shadow)"/>
  <text x="310" y="200" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="white">Prod RT</text>
  <text x="310" y="215" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Isolated</text>
  
  <rect x="360" y="175" width="80" height="50" rx="3" fill="#7986cb" filter="url(#shadow)"/>
  <text x="400" y="200" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="white">Dev RT</text>
  <text x="400" y="215" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Isolated</text>
  
  <rect x="450" y="175" width="80" height="50" rx="3" fill="#9fa8da" filter="url(#shadow)"/>
  <text x="490" y="200" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="white">Shared RT</text>
  <text x="490" y="215" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Connected</text>
  
  <!-- Spoke VPCs -->
  <!-- Production VPC -->
  <rect x="50" y="300" width="150" height="150" rx="5" fill="#fff3e0" stroke="#ff9900" stroke-width="2"/>
  <text x="125" y="325" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#ff9900">Production VPC</text>
  <rect x="65" y="340" width="120" height="30" rx="3" fill="#ff9900"/>
  <text x="125" y="360" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Private Subnets</text>
  <rect x="65" y="380" width="120" height="30" rx="3" fill="#ffb84d"/>
  <text x="125" y="400" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Database Subnets</text>
  <rect x="65" y="420" width="120" height="20" rx="3" fill="#ffd699"/>
  <text x="125" y="435" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#232f3e">Transit Subnet</text>
  
  <!-- Dev VPC -->
  <rect x="250" y="300" width="150" height="150" rx="5" fill="#e3f2fd" stroke="#2196f3" stroke-width="2"/>
  <text x="325" y="325" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2196f3">Development VPC</text>
  <rect x="265" y="340" width="120" height="30" rx="3" fill="#2196f3"/>
  <text x="325" y="360" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Private Subnets</text>
  <rect x="265" y="380" width="120" height="30" rx="3" fill="#64b5f6"/>
  <text x="325" y="400" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Database Subnets</text>
  <rect x="265" y="420" width="120" height="20" rx="3" fill="#90caf9"/>
  <text x="325" y="435" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#232f3e">Transit Subnet</text>
  
  <!-- Shared Services VPC -->
  <rect x="450" y="300" width="150" height="150" rx="5" fill="#f3e5f5" stroke="#9c27b0" stroke-width="2"/>
  <text x="525" y="325" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#9c27b0">Shared Services VPC</text>
  <rect x="465" y="340" width="120" height="30" rx="3" fill="#9c27b0"/>
  <text x="525" y="360" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Private Subnets</text>
  <rect x="465" y="380" width="120" height="30" rx="3" fill="#ba68c8"/>
  <text x="525" y="400" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">VPC Endpoints</text>
  <rect x="465" y="420" width="120" height="20" rx="3" fill="#ce93d8"/>
  <text x="525" y="435" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#232f3e">Transit Subnet</text>
  
  <!-- Inspection VPC -->
  <rect x="650" y="300" width="130" height="150" rx="5" fill="#ffebee" stroke="#f44336" stroke-width="2"/>
  <text x="715" y="325" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#f44336">Inspection VPC</text>
  <rect x="660" y="345" width="110" height="40" rx="3" fill="#f44336"/>
  <text x="715" y="365" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Network</text>
  <text x="715" y="378" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Firewall</text>
  <rect x="660" y="395" width="110" height="25" rx="3" fill="#ef5350"/>
  <text x="715" y="412" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">NAT Gateway</text>
  <rect x="660" y="425" width="110" height="20" rx="3" fill="#ef9a9a"/>
  <text x="715" y="440" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#232f3e">Transit Subnet</text>
  
  <!-- Connection Lines -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
    </marker>
  </defs>
  
  <!-- TGW to VPCs -->
  <line x1="310" y1="225" x2="125" y2="300" stroke="#666" stroke-width="2"/>
  <line x1="400" y1="225" x2="325" y2="300" stroke="#666" stroke-width="2"/>
  <line x1="490" y1="225" x2="525" y2="300" stroke="#666" stroke-width="2"/>
  <line x1="490" y1="225" x2="715" y2="300" stroke="#666" stroke-width="2"/>
  
  <!-- Legend -->
  <rect x="50" y="60" width="150" height="80" rx="5" fill="white" stroke="#ccc"/>
  <text x="125" y="80" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#232f3e">Legend</text>
  <line x1="60" y1="95" x2="90" y2="95" stroke="#ff9900" stroke-width="3"/>
  <text x="100" y="99" font-family="Arial, sans-serif" font-size="10" fill="#232f3e">Production</text>
  <line x1="60" y1="115" x2="90" y2="115" stroke="#2196f3" stroke-width="3"/>
  <text x="100" y="119" font-family="Arial, sans-serif" font-size="10" fill="#232f3e">Development</text>
  <line x1="60" y1="135" x2="90" y2="135" stroke="#9c27b0" stroke-width="3"/>
  <text x="100" y="139" font-family="Arial, sans-serif" font-size="10" fill="#232f3e">Shared</text>
</svg>
